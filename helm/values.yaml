# values.yaml structure
global:
  domain: "observability-ai.local"
  tls:
    enabled: true
    secretName: "observability-ai-tls"

# Service configurations
services:
  apiGateway:
    replicas: 2
    resources:
      requests:
        memory: "128Mi"
        cpu: "100m"
      limits:
        memory: "256Mi"
        cpu: "200m"

  queryProcessor:
    replicas: 3
    resources:
      requests:
        memory: "256Mi"
        cpu: "200m"
      limits:
        memory: "512Mi"
        cpu: "500m"

  semanticMapper:
    replicas: 2
    resources:
      requests:
        memory: "128Mi"
        cpu: "100m"
      limits:
        memory: "256Mi"
        cpu: "200m"

  mimirProxy:
    replicas: 2
    resources:
      requests:
        memory: "128Mi"
        cpu: "100m"
      limits:
        memory: "256Mi"
        cpu: "200m"

  configService:
    replicas: 1
    resources:
      requests:
        memory: "128Mi"
        cpu: "100m"
      limits:
        memory: "256Mi"
        cpu: "200m"

# External dependencies
postgresql:
  enabled: true
  auth:
    database: "observability_ai"
    username: "obs_ai"
    password: "changeme"
  primary:
    persistence:
      size: "20Gi"

redis:
  enabled: true
  auth:
    enabled: true
    password: "changeme"
  master:
    persistence:
      size: "8Gi"

# User configuration
config:
  # Mimir connection settings
  mimir:
    endpoint: "http://mimir-query-frontend:8080"
    auth:
      type: "basic" # basic, bearer, none
      username: ""
      password: ""

  # AI service configuration
  ai:
    provider: "openai" # openai, claude, local
    apiKey: ""
    model: "gpt-4"
    embeddingModel: "text-embedding-3-small"

  # Service discovery
  discovery:
    enabled: true
    interval: "5m"
    namespaces: ["default", "monitoring"]

  # Query safety
  safety:
    maxQueryRange: "7d"
    maxCardinality: 10000
    timeoutSeconds: 30